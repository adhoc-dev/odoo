-
   Set the context for supplier invoices because the 'type' field is readonly in invoice form views, so it value won't be considered by the yaml import
-
  !context
    type: 'in_invoice'
-
   Invoice from odoo support service
-
  !record {model: account.invoice, id: demo_purchase_invoice_1}:
    company_id: base.main_company
    # journal_id: sales_journal_2
    # journal_id: l10n_ar_chart.sales_journal
    partner_id: l10n_ar_partner.res_partner_odoo
    user_id: base.user_demo
    reference_type: none
    payment_term_id: account.account_payment_term
    type: 'in_invoice'
    invoice_line_ids:
      - name: 'Support Services'
        product_id: product.product_product_2
        price_unit: 1642.0
        quantity: 1
-
  !workflow {model: account.invoice, action: invoice_open, ref: demo_invoice_1}
-
   Invoice to CMR with vat 21, 0, exempt and untaxed
-
  !record {model: account.invoice, id: demo_invoice_2}:
    company_id: base.main_company
    # journal_id: sales_journal_2
    partner_id: l10n_ar_partner.res_partner_cmr
    user_id: base.user_demo
    reference_type: none
    payment_term_id: account.account_payment_term
    type: 'in_invoice'
    invoice_line_ids:
      - name: 'Dell Inspiron Laptop without OS'
        product_id: product.product_product_49
        price_unit: 642.0
        quantity: 5
      - name: 'Zed+ Antivirus'
        product_id: product.product_product_43
        price_unit: 280.0
        quantity: 1.0
      - name: 'Toner Cartridge'
        product_id: product.product_product_39
        price_unit: 70.0
        quantity: 4.0
      - name: 'Ergonomic Mouse'
        product_id: product.product_product_55
        price_unit: 300.0
        quantity: 2.0
-
  We add fiscal position
-
  !python {model: ir.model.data} : |
      position_id = self.pool.get('account.fiscal.position').search(cr, uid, [('name', '=', 'No gravado')])
      if position_id:
          self._update(cr, uid, 'account.invoice', 'l10n_ar_chart', {'fiscal_position_id': position_id[0]}, 'demo_invoice_2')
-
  !workflow {model: account.invoice, action: invoice_open, ref: demo_invoice_2}
-
   Export invoice to expresso with exempt vat tax
-
  !record {model: account.invoice, id: demo_invoice_3}:
    company_id: base.main_company
    # journal_id: sales_journal_3
    partner_id: l10n_ar_partner.res_partner_expresso
    user_id: base.user_demo
    reference_type: none
    payment_term_id: account.account_payment_term
    afip_incoterm_id: l10n_ar_account.incoterm_exw
    type: 'in_invoice'
    invoice_line_ids:
      - name: 'Toner Cartridge'
        product_id: product.product_product_39
        price_unit: 70.0
        quantity: 4.0
-
  We add fiscal position
-
  !python {model: ir.model.data} : |
      position_id = self.pool.get('account.fiscal.position').search(cr, uid, [('name', '=', 'Operaciones exentas')])
      if position_id:
          self._update(cr, uid, 'account.invoice', 'l10n_ar_chart', {'fiscal_position_id': position_id[0]}, 'demo_invoice_3')
-
  !workflow {model: account.invoice, action: invoice_open, ref: demo_invoice_3}